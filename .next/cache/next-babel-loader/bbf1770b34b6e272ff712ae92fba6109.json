{"ast":null,"code":"import Product from '../../../models/Product';\nimport connectDb from '../../../utils/connectDb';\nconnectDb();\nexport default (async (req, res) => {\n  try {\n    if (req.method !== 'POST') {\n      res.setHeader('Allow', ['POST']);\n      return res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n\n    const {\n      name,\n      price,\n      description,\n      mediaUrl\n    } = req.body;\n\n    if (!name || !price || !description || !mediaUrl) {\n      return res.status(422).send('Product missing one or more fields');\n    }\n\n    const product = await new Product({\n      name,\n      price,\n      description,\n      mediaUrl\n    }).save();\n    res.status(201).json({\n      product\n    });\n  } catch (error) {}\n});","map":{"version":3,"sources":["/Users/mmatamoros/Documents/react-reserve/pages/api/product/index.js"],"names":["Product","connectDb","req","res","method","setHeader","status","end","name","price","description","mediaUrl","body","send","product","save","json","error"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,yBAApB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AAEAA,SAAS;AAET,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAI;AACH,QAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AAC1BD,MAAAA,GAAG,CAACE,SAAJ,CAAc,OAAd,EAAuB,CAAC,MAAD,CAAvB;AACA,aAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,CAAqB,UAASL,GAAG,CAACE,MAAO,cAAzC,CAAP;AACA;;AACD,UAAM;AAAEI,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA,WAAf;AAA4BC,MAAAA;AAA5B,QAAyCT,GAAG,CAACU,IAAnD;;AACA,QAAI,CAACJ,IAAD,IAAS,CAACC,KAAV,IAAmB,CAACC,WAApB,IAAmC,CAACC,QAAxC,EAAkD;AACjD,aAAOR,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,oCAArB,CAAP;AACA;;AACD,UAAMC,OAAO,GAAG,MAAM,IAAId,OAAJ,CAAY;AACjCQ,MAAAA,IADiC;AAEjCC,MAAAA,KAFiC;AAGjCC,MAAAA,WAHiC;AAIjCC,MAAAA;AAJiC,KAAZ,EAKnBI,IALmB,EAAtB;AAMAZ,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBU,IAAhB,CAAqB;AAAEF,MAAAA;AAAF,KAArB;AACA,GAhBD,CAgBE,OAAOG,KAAP,EAAc,CAAE;AAClB,CAlBD","sourcesContent":["import Product from '../../../models/Product'\nimport connectDb from '../../../utils/connectDb'\n\nconnectDb()\n\nexport default async (req, res) => {\n\ttry {\n\t\tif (req.method !== 'POST') {\n\t\t\tres.setHeader('Allow', ['POST'])\n\t\t\treturn res.status(405).end(`Method ${req.method} Not Allowed`)\n\t\t}\n\t\tconst { name, price, description, mediaUrl } = req.body\n\t\tif (!name || !price || !description || !mediaUrl) {\n\t\t\treturn res.status(422).send('Product missing one or more fields')\n\t\t}\n\t\tconst product = await new Product({\n\t\t\tname,\n\t\t\tprice,\n\t\t\tdescription,\n\t\t\tmediaUrl\n\t\t}).save()\n\t\tres.status(201).json({ product })\n\t} catch (error) {}\n}\n"]},"metadata":{},"sourceType":"module"}