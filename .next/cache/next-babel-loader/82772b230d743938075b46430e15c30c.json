{"ast":null,"code":"import Product from '../../../models/Product';\nimport connectDb from '../../../utils/connectDb';\nconnectDb();\nexport default (async (req, res) => {\n  const {\n    method\n  } = req;\n\n  switch (method) {\n    case 'GET':\n      await handleGetRequest(req, res);\n      break;\n\n    case 'DELETE':\n      await handleDeleteRequest(req, res);\n      break;\n\n    default:\n      res.setHeader('Allow', ['GET', 'DELETE']);\n      res.status(405).end(`Method ${method} Not Allowed`);\n      break;\n  }\n});\n\nconst handleGetRequest = async (req, res) => {\n  const product = await Product.findById(req.query._id);\n  res.status(200).json(product);\n};\n\nconst handleDeleteRequest = async (req, res) => {\n  const product = await Product.findByIdAndDelete(req.query._id);\n  res.status(204).json({\n    product\n  });\n};","map":{"version":3,"sources":["/Users/mmatamoros/Documents/react-reserve/pages/api/product/[_id].js"],"names":["Product","connectDb","req","res","method","handleGetRequest","handleDeleteRequest","setHeader","status","end","product","findById","query","_id","json","findByIdAndDelete"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,yBAApB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AAEAA,SAAS;AAET,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAaF,GAAnB;;AACA,UAAQE,MAAR;AACC,SAAK,KAAL;AACC,YAAMC,gBAAgB,CAACH,GAAD,EAAMC,GAAN,CAAtB;AACA;;AACD,SAAK,QAAL;AACC,YAAMG,mBAAmB,CAACJ,GAAD,EAAMC,GAAN,CAAzB;AACA;;AACD;AACCA,MAAAA,GAAG,CAACI,SAAJ,CAAc,OAAd,EAAuB,CAAC,KAAD,EAAQ,QAAR,CAAvB;AACAJ,MAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,CAAqB,UAASL,MAAO,cAArC;AACA;AAVF;AAYA,CAdD;;AAgBA,MAAMC,gBAAgB,GAAG,OAAOH,GAAP,EAAYC,GAAZ,KAAoB;AAC5C,QAAMO,OAAO,GAAG,MAAMV,OAAO,CAACW,QAAR,CAAiBT,GAAG,CAACU,KAAJ,CAAUC,GAA3B,CAAtB;AACAV,EAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqBJ,OAArB;AACA,CAHD;;AAKA,MAAMJ,mBAAmB,GAAG,OAAOJ,GAAP,EAAYC,GAAZ,KAAoB;AAC/C,QAAMO,OAAO,GAAG,MAAMV,OAAO,CAACe,iBAAR,CAA0Bb,GAAG,CAACU,KAAJ,CAAUC,GAApC,CAAtB;AACAV,EAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqB;AAAEJ,IAAAA;AAAF,GAArB;AACA,CAHD","sourcesContent":["import Product from '../../../models/Product'\nimport connectDb from '../../../utils/connectDb'\n\nconnectDb()\n\nexport default async (req, res) => {\n\tconst { method } = req\n\tswitch (method) {\n\t\tcase 'GET':\n\t\t\tawait handleGetRequest(req, res)\n\t\t\tbreak\n\t\tcase 'DELETE':\n\t\t\tawait handleDeleteRequest(req, res)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tres.setHeader('Allow', ['GET', 'DELETE'])\n\t\t\tres.status(405).end(`Method ${method} Not Allowed`)\n\t\t\tbreak\n\t}\n}\n\nconst handleGetRequest = async (req, res) => {\n\tconst product = await Product.findById(req.query._id)\n\tres.status(200).json(product)\n}\n\nconst handleDeleteRequest = async (req, res) => {\n\tconst product = await Product.findByIdAndDelete(req.query._id)\n\tres.status(204).json({ product })\n}\n"]},"metadata":{},"sourceType":"module"}