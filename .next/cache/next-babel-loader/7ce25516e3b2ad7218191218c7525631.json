{"ast":null,"code":"import Product from '../../../models/Product';\nimport connectDb from '../../../utils/connectDb';\nconnectDb();\nexport default (async (req, res) => {\n  if (req.method !== 'POST') {\n    res.setHeader('Allow', ['GET', 'DELETE']);\n    return res.status(405).end(`Method ${method} Not Allowed`);\n  }\n\n  const {\n    name,\n    price,\n    description,\n    mediaUrl\n  } = req.body;\n\n  if (!name || !price || !description || !mediaUrl) {\n    return res.status(422).send('Product missing one or more fields');\n  }\n\n  const product = await new Product({\n    name,\n    price,\n    description,\n    mediaUrl\n  }).save();\n  res.status(201).json({\n    product\n  });\n});","map":{"version":3,"sources":["/Users/mmatamoros/Documents/react-reserve/pages/api/product/index.js"],"names":["Product","connectDb","req","res","method","setHeader","status","end","name","price","description","mediaUrl","body","send","product","save","json"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,yBAApB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AAEAA,SAAS;AAET,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AAC1BD,IAAAA,GAAG,CAACE,SAAJ,CAAc,OAAd,EAAuB,CAAC,KAAD,EAAQ,QAAR,CAAvB;AACA,WAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,CAAqB,UAASH,MAAO,cAArC,CAAP;AACA;;AACD,QAAM;AAAEI,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA,WAAf;AAA4BC,IAAAA;AAA5B,MAAyCT,GAAG,CAACU,IAAnD;;AACA,MAAI,CAACJ,IAAD,IAAS,CAACC,KAAV,IAAmB,CAACC,WAApB,IAAmC,CAACC,QAAxC,EAAkD;AACjD,WAAOR,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,oCAArB,CAAP;AACA;;AACD,QAAMC,OAAO,GAAG,MAAM,IAAId,OAAJ,CAAY;AACjCQ,IAAAA,IADiC;AAEjCC,IAAAA,KAFiC;AAGjCC,IAAAA,WAHiC;AAIjCC,IAAAA;AAJiC,GAAZ,EAKnBI,IALmB,EAAtB;AAMAZ,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBU,IAAhB,CAAqB;AAAEF,IAAAA;AAAF,GAArB;AACA,CAhBD","sourcesContent":["import Product from '../../../models/Product'\nimport connectDb from '../../../utils/connectDb'\n\nconnectDb()\n\nexport default async (req, res) => {\n\tif (req.method !== 'POST') {\n\t\tres.setHeader('Allow', ['GET', 'DELETE'])\n\t\treturn res.status(405).end(`Method ${method} Not Allowed`)\n\t}\n\tconst { name, price, description, mediaUrl } = req.body\n\tif (!name || !price || !description || !mediaUrl) {\n\t\treturn res.status(422).send('Product missing one or more fields')\n\t}\n\tconst product = await new Product({\n\t\tname,\n\t\tprice,\n\t\tdescription,\n\t\tmediaUrl\n\t}).save()\n\tres.status(201).json({ product })\n}\n"]},"metadata":{},"sourceType":"module"}